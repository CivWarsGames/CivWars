<?php
/**
 *
 * This file stores the buildings costs into arrays with the form
 *  $_buildingsNames['building_number] = building_name and
 *  $_buildingsCosts['costs']['building']['level']['cost_type_number'] = Cost
 *  $_buildingProperties['properties']['building']['level'] = Propertie
 *  
 *  If more factions want to add, only are needed some conditionals in set() functions
 */
class LoadBuildingsCosts
{
	private static $faction;
	private static $loadedBuildingNames = false;
	private static $loadedBuildingCosts = false;
	private static $loadedBuildingProperties = false;
	private static $_buildingNames = array();
	private static $_buildingCosts = array();
	private static $_buildingProperties = array();

	public static function getbuildingCosts($faction)
	{
		if(self::$loadedBuildingCosts && self::$faction == $faction)
		{
			return self::$_buildingCosts;
		}else{
			self::$_buildingCosts = self::setBuildingsCosts($faction);
			self::$faction = $faction;
			self::$loadedBuildingCosts = true;
			return self::$_buildingCosts;
		}
	}
	public static function getbuildingNames($faction)
	{
		if(self::$loadedBuildingNames && self::$faction == $faction)
		{
			return self::$_buildingNames;
		}else{
			self::$_buildingNames = self::setBuildingsNames($faction);
			self::$faction = $faction;
			self::$loadedBuildingNames = true;
			return self::$_buildingNames;
		}
	}

	public static function getbuildingProperties($faction)
	{
		if(self::$loadedBuildingProperties && self::$faction == $faction)
		{
			return self::$_buildingProperties;
		}else{
			self::$_buildingProperties = self::setBuildingsProperties($faction);
			self::$faction = $faction;
			self::$loadedBuildingProperties = true;
			return self::$_buildingProperties;
		}
	}

	private static function setBuildingsNames($faction)
	{
		$buildings = array("PLOT", "COMMAND_CENTER", "WAREHOUSE", "BANK", "BARRAKS", "AIRPORT", "RESEARCH_LAB", "CONSULATE","MARKET", "HEADQUARTERS", "ADVANCED_LAB", "FACTORY", "TRAINING_CAMP", "STEEL_FACTORY", "REFINERY", "STOCK_EXCHANGE","BASE_DEFENCES");
		return $buildings;
	}

	private static function setBuildingsCosts($faction)
	{
		//Metal,Oil,Money,Energy,Maintenance/hour,Construction Time(seconds),Destruction Time(seconds)
		//Level 1,2,3 ex: $buildings['costs']['command_center'][0][1] = The oil cost to upgrade the command center to level 1

		$c["COMMAND_CENTER"] = array(array(30,20,40,2,2,360,36), array(43,29,57,1,2,540,54), array(62,41,83,1,2,805,81), array(88,59,117,2,2,1191,119), array(124,83,165,2,3,1750,175), array(173,115,231,2,3,2556,256), array(241,161,321,2,3,3706,371), array(332,221,443,5,3,5336,534), array(455,303,607,7,3,7631,763), array(619,413,825,9,3,10683,1068), array(836,557,1115,11,4,14743,1474), array(1120,747,1493,13,4,20050,2005), array(1489,993,1985,15,5,26867,2687), array(1966,1311,2621,16,5,35465,3547), array(2575,1717,3433,17,6,46104,4610), array(3347,2231,4463,18,6,59014,5901), array(4318,2879,5757,20,7,74357,7436), array(5527,3685,7369,22,7,92203,9220), array(7019,4679,9359,24,8,112487,11249), array(9125,6083,12167,26,8,134985,13499), array(11771,7847,15695,29,8,159282,15928), array(15067,10045,20089,32,9,184767,18477), array(19136,12757,25515,36,9,210635,21064), array(24111,16074,32148,40,10,235911,23591), array(30139,20093,40185,45,11,259502,25950));

		$c['WAREHOUSE'] = array(array(40,40,30,2,2,360,36), array(58,58,44,1,2,540,54), array(82,82,62,1,2,805,81), array(117,117,88,2,2,1191,119), array(165,165,124,2,3,1750,175), array(231,231,173,2,3,2556,256), array(321,321,241,2,3,3706,371), array(443,443,332,5,3,5336,534), array(607,607,455,7,3,7631,763), array(825,825,619,9,3,10836,1084), array(1114,1114,836,11,4,15279,1528), array(1492,1492,1119,13,4,21390,2139), array(1985,1985,1489,15,5,29518,2952), array(2620,2620,1965,17,5,40145,4015), array(3432,3432,2574,19,6,53794,5379), array(4462,4462,3347,22,6,71008,7101), array(5756,5756,4317,26,7,92310,9231), array(7368,7368,5526,29,7,118157,11816), array(9357,9357,7018,32,8,148878,14888), array(12164,12164,9123,35,9,184608,18461), array(16178,16178,12134,38,10,225222,22522), array(22002,22002,16502,42,11,270267,27027), array(30583,30583,22937,46,12,318915,31892), array(43428,43428,32571,50,13,369941,36994), array(62970,62970,47228,57,14,421733,42173));

		$c['BANK'] = array(array(40,40,30,2,2,360,36), array(58,58,44,1,2,540,54), array(82,82,62,1,2,805,81), array(117,117,88,2,2,1191,119), array(165,165,124,2,3,1750,175), array(231,231,173,2,3,2556,256), array(321,321,241,2,3,3706,371), array(443,443,332,5,3,5336,534), array(607,607,455,7,3,7631,763), array(825,825,619,9,3,10836,1084), array(1114,1114,836,11,4,15279,1528), array(1492,1492,1119,13,4,21390,2139), array(1985,1985,1489,15,5,29518,2952), array(2620,2620,1965,17,5,40145,4015), array(3432,3432,2574,19,6,53794,5379), array(4462,4462,3347,22,6,71008,7101), array(5756,5756,4317,26,7,92310,9231), array(7368,7368,5526,29,7,118157,11816), array(9357,9357,7018,32,8,148878,14888), array(12164,12164,9123,35,9,184608,18461), array(16178,16178,12134,38,10,225222,22522), array(22002,22002,16502,42,11,270267,27027), array(30583,30583,22937,46,12,318915,31892), array(43428,43428,32571,50,13,369941,36994), array(62970,62970,47228,57,14,421733,42173));

		$c['BARRAKS'] = array(array(60,60,45,2,2,600,60), array(86,86,65,1,2,900,90), array(124,124,93,1,2,1332,133), array(175,175,131,2,2,1971,197), array(247,247,185,2,3,2878,288), array(346,346,260,2,3,4145,415), array(481,481,361,2,3,5885,589), array(664,664,498,5,3,8239,824), array(910,910,683,7,3,11370,1137), array(1238,1238,929,9,3,15464,1546), array(1671,1671,1253,11,4,20721,2072), array(2239,2239,1679,13,4,27352,2735), array(2978,2978,2234,15,5,35558,3556), array(3931,3931,2948,17,5,45514,4551), array(5150,5150,3863,19,6,57348,5735), array(6695,6695,5021,22,6,71111,7111), array(8636,8636,6477,26,7,86756,8676), array(11054,11054,8291,29,7,103239,10324), array(14039,14039,10529,32,8,120790,12079), array(18250,18250,13688,35,9,138909,13891), array(24273,24273,18205,38,10,156967,15697), array(33011,33011,24758,42,11,174233,17423), array(45886,45886,34415,46,12,189914,18991), array(65158,65158,48869,50,13,205107,20511), array(94479,94479,70859,57,14,219465,21947));

		$c['AIRPORT'] = array(array(994,884,773,2,5,1048,105), array(1431,1272,1113,1,2,1572,157), array(2032,1806,1580,1,2,2326,233), array(2866,2548,2229,2,2,3443,344), array(4012,3566,3120,2,3,5026,503), array(5536,4921,4306,2,3,7238,724), array(7529,6692,5856,2,3,10277,1028), array(10089,8968,7847,5,3,14388,1439), array(13318,11838,10358,7,3,19856,1986), array(17313,15389,13466,9,3,27004,2700), array(22161,19699,17236,11,4,36185,3619), array(27923,24820,21718,13,4,47764,4776), array(34624,30777,26930,15,5,62094,6209), array(42242,37548,32855,17,5,79480,7948), array(50690,45058,39426,19,6,100144,10014), array(59814,53168,46522,22,6,124179,12418), array(69385,61676,53966,26,7,150257,15026), array(79099,70310,61521,29,7,177303,17730), array(88590,78747,68903,32,8,203898,20390), array(98335,87409,76483,35,9,228366,22837), array(108169,96150,84131,38,10,251203,25120), array(117904,104804,91703,42,11,273811,27381), array(127336,113188,99039,46,12,295716,29572), array(136250,121111,105972,50,13,316416,31642), array(144425,128378,112331,57,14,335401,33540),);

		$c['RESEARCH_LAB'] = array(array(130,130,173,2,2,600,60), array(187,187,249,1,2,900,90), array(268,268,357,1,2,1332,133), array(380,380,507,2,2,1971,197), array(536,536,715,2,3,2878,288), array(750,750,1000,2,3,4145,415), array(1043,1043,1391,2,3,5885,589), array(1439,1439,1919,5,3,8239,824), array(1972,1972,2629,7,3,11370,1137), array(2682,2682,3576,9,3,15464,1546), array(3621,3621,4828,11,4,20721,2072), array(4852,4852,6469,13,4,27352,2735), array(6453,6453,8604,15,5,35558,3556), array(8518,8518,11357,17,5,45514,4551), array(11158,11158,14877,19,6,57348,5735));

		$c['CONSULATE'] = array(array(60,60,45,2,2,600,60), array(86,86,65,1,2,900,90), array(124,124,93,1,2,1332,133), array(175,175,131,2,2,1971,197), array(247,247,185,2,3,2878,288), array(346,346,260,2,3,4145,415), array(481,481,361,2,3,5885,589), array(664,664,498,5,3,8239,824), array(910,910,683,7,3,11370,1137), array(1238,1238,929,9,3,15464,1546), array(1671,1671,1253,11,4,20721,2072), array(2239,2239,1679,13,4,27352,2735), array(2978,2978,2234,15,5,35558,3556), array(3931,3931,2948,17,5,45514,4551), array(5150,5150,3863,19,6,57348,5735), array(6695,6695,5021,22,6,71111,7111), array(8636,8636,6477,26,7,86756,8676), array(11054,11054,8291,29,7,103239,10324), array(14039,14039,10529,32,8,120790,12079), array(18250,18250,13688,35,9,138909,13891), array(24273,24273,18205,38,10,156967,15697), array(33011,33011,24758,42,11,174233,17423), array(45886,45886,34415,46,12,189914,18991), array(65158,65158,48869,50,13,205107,20511), array(94479,94479,70859,57,14,219465,21947));

		$c['MARKET'] = array(array(35,30,40,2,2,403,40), array(50,43,57,1,2,604,60), array(72,62,82,1,2,894,89), array(102,87,117,2,2,1322,132), array(144,123,165,2,3,1931,193), array(202,173,231,2,3,2780,278), array(281,241,321,2,3,3948,395), array(387,332,442,5,3,5527,553), array(531,455,607,7,3,7628,763), array(722,619,825,9,3,10374,1037), array(974,835,1113,11,4,13901,1390), array(1306,1119,1493,13,4,18349,1835), array(1737,1489,1985,15,5,23854,2385), array(2292,1965,2619,17,5,30532,3053), array(3003,2574,3432,19,6,38471,3847), array(3904,3346,4462,22,6,47704,4770), array(5036,4317,5755,26,7,58199,5820), array(6446,5525,7367,29,7,69257,6926), array(8186,7017,9355,32,8,81030,8103), array(10642,9122,12162,35,9,93185,9319), array(13729,11768,15690,38,10,105299,10530), array(17573,15063,20083,42,11,116882,11688), array(22317,19129,25505,46,12,127401,12740), array(28120,24103,32137,50,13,137593,13759), array(35150,30129,40171,57,14,147225,14723));

		$c['HEADQUARTERS'] = array(array(1103,919,1471,2,2,403,40), array(1588,1323,2117,1,2,604,60), array(2255,1879,3007,1,2,894,89), array(3179,2649,4239,2,2,1322,132), array(4451,3709,5935,2,3,1931,193), array(6186,5155,8248,2,3,2780,278), array(8475,7063,11300,2,3,3948,395), array(11526,9605,15368,5,3,5527,553), array(15445,12871,20593,7,3,7628,763), array(20388,16990,27184,9,3,10374,1037), array(26708,22257,35611,11,4,13901,1390), array(34453,28711,45937,13,4,18349,1835), array(44100,36750,58800,15,5,23854,2385), array(56007,46673,74676,17,5,30532,3053), array(70569,58808,94092,19,6,38471,3847));

		$c['ADVANCED_LAB'] = array(array(10000,10000,13333,2,2,5796,580), array(14200,14200,18933,1,2,8114,811), array(19738,19738,26317,1,2,11198,1120), array(26646,26646,35528,2,2,15229,1523), array(35173,35173,46897,2,3,20407,2041), array(45725,45725,60967,2,3,26937,2694), array(58528,58528,78037,2,3,35018,3502), array(73160,73160,97547,5,3,44824,4482), array(89986,89986,119981,7,3,56478,5648), array(107983,107983,143977,9,3,70032,7003), array(127420,127420,169893,11,4,85439,8544), array(147808,147808,197077,13,4,102527,10253), array(168501,168501,224668,15,5,120982,12098), array(188721,188721,251628,17,5,140339,14034), array(207593,207593,276791,19,6,161390,16139));

		$c['FACTORY'] = array(array(150,133,117,2,2,706,71), array(216,192,168,1,2,1060,106), array(309,275,240,1,2,1568,157), array(439,390,341,2,2,2321,232), array(618,549,481,2,3,3389,339), array(866,770,674,2,3,4880,488), array(1203,1069,936,2,3,6929,693), array(1661,1476,1292,5,3,9701,970), array(2275,2022,1769,7,3,13387,1339), array(3094,2750,2406,9,3,18207,1821), array(4177,3713,3249,11,4,24397,2440), array(5598,4976,4354,13,4,32204,3220), array(7445,6618,5791,15,5,41866,4187), array(9827,8735,7643,17,5,53588,5359), array(12874,11444,10013,19,6,67521,6752), array(16736,14876,13017,22,6,83726,8373), array(21590,19191,16792,26,7,102146,10215), array(27635,24564,21494,29,7,121554,12155), array(35096,31196,27297,32,8,142218,14222), array(44221,39308,34394,35,9,163551,16355), array(54834,48741,42649,38,10,184812,18481), array(66898,59465,52032,42,11,205141,20514), array(80277,71357,62438,46,12,223604,22360), array(94727,84202,73677,50,13,241492,24149), array(109884,97675,85465,57,14,258397,25840));

		$c['TRAINING_CAMP'] = array(array(5000,4500,2500,4,4,29999,3000), array(7200,6480,3600,8,5,44999,4500), array(10296,9266,5148,10,6,66598,6660), array(14620,13158,7310,15,10,98565,9857), array(20615,18554,10308,20,15,143905,14391));

		$c['STEEL_FACTORY'] = array(array(994,497,596,2,2,706,71), array(1431,716,859,1,2,1060,106), array(2047,1024,1228,1,2,1568,157), array(2906,1453,1744,2,2,2321,232), array(4098,2049,2459,2,3,3389,339), array(5737,2869,3442,2,3,4880,488), array(7974,3987,4784,2,3,6929,693), array(11005,5503,6603,5,3,9701,970), array(15076,7538,9046,7,3,13387,1339), array(20504,10252,12302,9,3,18207,1821));

		$c['REFINERY'] = array(array(497,994,596,2,2,706,71), array(716,1431,859,1,2,1060,106), array(1024,2047,1228,1,2,1568,157), array(1453,2906,1744,2,2,2321,232), array(2049,4098,2459,2,3,3389,339), array(2869,5737,3442,2,3,4880,488), array(3987,7974,4784,2,3,6929,693), array(5503,11005,6603,5,3,9701,970), array(7538,15076,9046,7,3,13387,1339), array(10252,20504,12302,9,3,18207,1821));

		$c['STOCK_EXCHANGE'] = array(array(594,594,990,2,2,706,71), array(855,855,1425,1,2,1060,106), array(1223,1223,2038,1,2,1568,157), array(1736,1736,2893,2,2,2321,232), array(2448,2448,4080,2,3,3389,339), array(3427,3427,5712,2,3,4880,488), array(4763,4763,7938,2,3,6929,693), array(6573,6573,10955,5,3,9701,970), array(9006,9006,15010,7,3,13387,1339), array(12248,12248,20413,9,3,18207,1821));

		$c['BASE_DEFENCES'] = array(array(100,100,67,2,2,599,60), array(145,145,97,1,2,898,90), array(210,210,140,1,2,1330,133), array(305,305,203,2,2,1968,197), array(442,442,295,2,3,2873,287), array(641,641,427,2,3,4137,414), array(929,929,619,2,3,5875,588), array(1348,1348,899,5,3,8225,823), array(1954,1954,1303,7,3,11350,1135), array(2833,2833,1889,9,3,15436,1544), array(4108,4108,2739,11,4,20684,2068), array(5957,5957,3971,13,4,27303,2730), array(8637,8637,5758,15,5,35494,3549), array(12524,12524,8349,17,5,45432,4543), array(18160,18160,12107,19,6,57245,5725));

		return $c;
	}

	private static function setBuildingsProperties($faction)
	{
		//Production Bonuses
		$p['STEEL_FACTORY']=array(1,1.01,1.02,1.03,1.05,1.07,1.10,1.14,1.18,1.24,1.30);

		$p['REFINERY']=array(1,1.01,1.02,1.03,1.05,1.07,1.10,1.14,1.18,1.24,1.30);

		$p['STOCK_EXCHANGE']=array(1,1.01,1.02,1.03,1.05,1.07,1.10,1.14,1.18,1.24,1.30);

		//Capacities of materials (calculate +500 basic capacity)
		$p['WAREHOUSE']=array(0,500,1200,1500,2250,3100,4100,5150,6300,7500,8800,10200,11700,13300,15000,16800,18800,21100,23700,27000,32500,40000,49000,58000,70000,85000);

		$p['BANK']=array(0,500,1200,1500,2250,3100,4100,5150,6300,7500,8800,10200,11700,13300,15000,16800,18800,21100,23700,27000,32500,40000,49000,58000,70000,85000);

		//% time reduction in buildings
		$p['COMMAND_CENTER']=array(100,99,98,97,95,93,91,89,87,85,83,81,78,75,72,69,66,63,60,56,51,46,42,38,34,30);
		
		return $p;
	}
}

?>